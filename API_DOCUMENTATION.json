{
  "info": {
    "name": "API de Envio de Emails em Massa",
    "description": "API RESTful para envio de emails em massa",
    "version": "1.0.0"
  },
  "endpoints": [
    {
      "name": "Verificar Saúde do Servidor",
      "method": "GET",
      "url": "http://localhost:3000/api/health",
      "description": "Verifica se o servidor está funcionando",
      "response_example": {
        "status": "ok",
        "service": "Bulk Email Sender API",
        "timestamp": "2024-01-15T10:30:00.000Z",
        "devMode": false
      }
    },
    {
      "name": "Testar Conexão com Email",
      "method": "POST",
      "url": "http://localhost:3000/api/test-connection",
      "description": "Testa a conexão com o servidor de email configurado",
      "response_example": {
        "success": true,
        "message": "Conexão com servidor de email estabelecida com sucesso!",
        "devMode": false
      }
    },
    {
      "name": "Enviar Emails em Massa",
      "method": "POST",
      "url": "http://localhost:3000/api/send-emails",
      "description": "Envia emails para múltiplos destinatários",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "senderName": "João Silva",
        "senderEmail": "joao@exemplo.com",
        "recipients": [
          "destinatario1@exemplo.com",
          "destinatario2@exemplo.com",
          "destinatario3@exemplo.com"
        ],
        "subject": "Assunto do Email",
        "message": "Esta é a mensagem que será enviada para todos os destinatários.\n\nPode conter múltiplas linhas."
      },
      "validation": {
        "senderEmail": "Email válido obrigatório",
        "recipients": "Array de emails válidos, mínimo 1",
        "subject": "String não vazia obrigatória",
        "message": "String não vazia obrigatória",
        "senderName": "String opcional"
      },
      "response_success": {
        "success": true,
        "message": "Todos os 3 emails foram enviados com sucesso!",
        "results": {
          "successful": [
            {
              "email": "destinatario1@exemplo.com",
              "messageId": "<abc123@gmail.com>"
            },
            {
              "email": "destinatario2@exemplo.com",
              "messageId": "<def456@gmail.com>"
            },
            {
              "email": "destinatario3@exemplo.com",
              "messageId": "<ghi789@gmail.com>"
            }
          ],
          "failed": [],
          "total": 3
        },
        "devMode": false
      },
      "response_partial": {
        "success": false,
        "message": "2 emails enviados, 1 falharam.",
        "results": {
          "successful": [
            {
              "email": "destinatario1@exemplo.com",
              "messageId": "<abc123@gmail.com>"
            },
            {
              "email": "destinatario2@exemplo.com",
              "messageId": "<def456@gmail.com>"
            }
          ],
          "failed": [
            {
              "email": "invalido@",
              "error": "Invalid email address"
            }
          ],
          "total": 3
        },
        "devMode": false
      },
      "response_error_validation": {
        "success": false,
        "errors": [
          {
            "msg": "Email do remetente inválido",
            "param": "senderEmail",
            "location": "body"
          }
        ]
      },
      "response_error_limit": {
        "success": false,
        "message": "Número máximo de destinatários excedido. Limite: 50"
      }
    }
  ],
  "curl_examples": [
    {
      "name": "Verificar Saúde",
      "command": "curl -X GET http://localhost:3000/api/health"
    },
    {
      "name": "Testar Conexão",
      "command": "curl -X POST http://localhost:3000/api/test-connection"
    },
    {
      "name": "Enviar Emails",
      "command": "curl -X POST http://localhost:3000/api/send-emails \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"senderEmail\": \"seu@email.com\",\n    \"recipients\": [\"dest1@email.com\", \"dest2@email.com\"],\n    \"subject\": \"Teste\",\n    \"message\": \"Mensagem de teste\"\n  }'"
    }
  ],
  "error_codes": {
    "400": "Bad Request - Dados inválidos ou faltando",
    "500": "Internal Server Error - Erro no servidor",
    "404": "Not Found - Rota não encontrada"
  },
  "rate_limiting": {
    "enabled": false,
    "note": "Considere implementar rate limiting em produção"
  },
  "security_notes": [
    "Use HTTPS em produção",
    "Implemente autenticação para a API",
    "Configure CORS apropriadamente",
    "Limite o número máximo de destinatários",
    "Valide todos os inputs",
    "Use senhas de aplicativo, não senhas principais"
  ]
}
